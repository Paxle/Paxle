<?xml version="1.0" encoding="iso-8859-1" standalone="yes" ?>
<installation version="1.0">
<!-- 
	Documnetation: http://izpack.org/documentation/ 
-->
	<info>
		<appname>Paxle</appname>
		<appversion>${pom.version}</appversion>
		<url>${pom.url}</url>
		<javaversion>1.5</javaversion>
		<requiresjdk>no</requiresjdk>
		<webdir>${webinstaller.url}</webdir>
	</info>
	
	<!-- some variables required later -->
	<variables>
		<!-- The jar-name of the equinox runtime -->
		<variable name="OSGI_RUNTIME_JAR" value="${equinox.runtime.jar}" />
		<!-- maven project base dir -->
		<variable name="PAXLE_DIR" value="${basedir}"/>
		
		<!-- the default installation-group is "default" -->
		<variable name="InstallationGroupPanel.defaultGroup" value="default"/>
	</variables>

	<guiprefs width="700" height="550" resizable="no">
		<laf name="looks">
			<os family="unix" />
		</laf>
		<modifier key="langDisplayType" value="native" />
	</guiprefs>
	
	<!-- supported languages -->
	<locale>
		<langpack iso3="eng" />
		<langpack iso3="deu" />
	</locale>
	
	<!-- resources -->
	<resources>
		<res id="InfoPanel.info" src="${basedir}/README.txt" parse="yes" />
		<res id="LicencePanel.licence" src="${basedir}/LICENSE.txt" />
		<res id="installer.langsel.img" src="${basedir}/src/main/resources/img/logo.png" />
		<res id="shortcutSpec.xml" src="${basedir}/src/main/resources/installers/winShortcutSpec.xml" />
		<res id="Unix_shortcutSpec.xml" src="${basedir}/src/main/resources/installers/unixShortcutSpec.xml" />

		<res src="${basedir}/src/main/resources/installers/img/border1.png" id="Installer.image.0"/>
		<res src="${basedir}/src/main/resources/installers/img/border2.png" id="Installer.image.1"/>
		<res src="${basedir}/src/main/resources/installers/img/border3.png" id="Installer.image.2"/>
		<res src="${basedir}/src/main/resources/installers/img/border4.png" id="Installer.image.3"/>
		<res src="${basedir}/src/main/resources/installers/img/border5.png" id="Installer.image.4"/>
		<res src="${basedir}/src/main/resources/installers/img/border6.png" id="Installer.image.5"/>
		<res src="${basedir}/src/main/resources/installers/img/border7.png" id="Installer.image.6"/>
		<res src="${basedir}/src/main/resources/installers/img/border8.png" id="Installer.image.7"/>
	</resources>
	
	<!-- The native libraries to add. This is required for creating shortcuts on Windows -->
	<native type="izpack" name="ShellLink.dll" />
	
	<!-- panels to display -->
	<panels>
		<panel classname="HelloPanel" />
		<panel classname="LicencePanel" />
		<panel classname="TargetPanel" />
		<panel classname="InstallationGroupPanel"/>
		<panel classname="TreePacksPanel" />
		<panel classname="SummaryPanel"/>
		<panel classname="InstallPanel" />
		<panel classname="ShortcutPanel" />
		<panel classname="SimpleFinishPanel" />
	</panels>
	<packs>
		<!-- ========================================================== 
			 OSGI core package incl. all external dependencies
			 TODO: the dependencies should be moved into additional packs
		     ========================================================== -->	
		<refpack file="Equinox/pack.xml" />
	
		<!-- ========================================================== 
			 PAXLE CORE BUNDLE
		     ========================================================== -->	
		<refpack file="Core/pack.xml" />			
		
		<!-- ========================================================== 
			 PAXLE CRAWLER BUNDLES
		     ========================================================== -->
		<pack id="Crawlers" name="Paxle - Crawlers" required="yes" preselected="yes">
			<description>Paxle Crawlers</description>
		</pack>
		<refpack file="CrawlerCore/pack.xml" />		
		<refpack file="CrawlerHttp/pack.xml" />		

		<!-- ========================================================== 
			 OPTIONAL PAXLE CRAWLER BUNDLES
			 See: Profile "mvn -Dcrawles"
		     ========================================================== -->	
		<xinclude href="crawlers.xml" parse="xml">
			<!-- 
				 Note:
				 We need to use an xinclude with a fallback here because a refpack
				 causes the whole build process to fail if the referenced pack
				 (and the included bundles) are not available.
			 -->
			<xfallback></xfallback>
		</xinclude>		
		
		<!-- ========================================================== 
			PAXLE PARSER BUNDLES			
		     ========================================================== -->
		<pack id="Parsers" name="Paxle - Parsers" required="yes" preselected="yes">
			<description>Paxle Parsers</description>
		</pack>
		<refpack file="ParserCore/pack.xml" />	
		<refpack file="ParserHtml/pack.xml" />	
		<refpack file="ParserPlain/pack.xml" />		

		<!-- ========================================================== 
			OPTIONAL PAXLE PARSER BUNDLES
			See: Profile "mvn -Dparsers"
		     ========================================================== -->
		<xinclude href="parsers.xml" parse="xml">
			<!-- 
				 Note:
				 We need to use an xinclude with a fallback here because a refpack
				 causes the whole build process to fail if the referenced pack
				 (and the included bundles) are not available.
			 -->
			<xfallback></xfallback>
		</xinclude>

		<!-- ========================================================== 
			 PAXLE COMMAND-FILTER BUNDLES
		     ========================================================== -->
		<pack id="Filters" name="Paxle - Command Filters" required="yes" preselected="yes">
			<description>Paxle Parsers</description>
		</pack>
		<refpack file="FilterBlacklist/pack.xml" />
		<refpack file="FilterRobotsTxt/pack.xml" />
		<refpack file="FilterLanguageIdentification/pack.xml" />

		<!-- ========================================================== 
			 PAXLE GUI BUNDLES
		     ========================================================== -->
		<pack id="GUIs" name="Paxle - User Interfaces" required="no" preselected="yes">
			<description>Paxle User Interfaces</description>
		</pack>

		<pack id="Webinterface" name="Webinterface" parent="GUIs" required="no" preselected="yes">
			<description>Paxle Web-Interfaces</description>
		</pack>	
		<refpack file="GUI/pack.xml" />

		<pack id="Desktop" name="Desktop" parent="GUIs" required="no" preselected="yes">
			<description>Paxle Desktop Interfaces</description>
		</pack>		
		<refpack file="DesktopIntegration/pack.xml" />
		<refpack file="DIJdicBackend/pack.xml" />

		<!-- ========================================================== 
			 PAXLE SEARCH BUNDLES
		     ========================================================== -->
		<pack id="SEProviders" name="Paxle - Search Provider" required="yes" preselected="yes">
			<description>Paxle Search Providers</description>
		</pack>
		<refpack file="SearchEngine/pack.xml" />
		<refpack file="SEProviderPaxleInfrastructure/pack.xml" />

		<!-- ========================================================== 
			 PAXLE INDEXER BUNDLES
		     ========================================================== -->
		<pack id="Indexers" name="Paxle - Indexers" required="yes" preselected="yes">
			<description>Paxle Indexers</description>
		</pack>
		<refpack file="Indexer/pack.xml" />
		<refpack file="IndexLucene/pack.xml" />

		<!-- ========================================================== 
			 PAXLE DATA-LAYER BUNDLES
		     ========================================================== -->
		<pack id="DataLayers" name="Paxle - Data Layer" required="yes" preselected="yes">
			<description>Paxle Data Layer</description>
		</pack>
		<refpack file="DataLayer/pack.xml" />
		<refpack file="DataLayerDerby/pack.xml" />
		<refpack file="DataLayerH2/pack.xml" />
		<!--<refpack file="DataLayerMySQL/pack.xml" />-->

		<!-- ========================================================== 
			 PAXLE TOOLS BUNDLES
		     ========================================================== -->
		<pack id="Tools" name="Paxle - Tools" required="yes" preselected="yes">
			<description>Paxle Tools</description>
		</pack>
		<refpack file="CharsetDetector/pack.xml" />
		<refpack file="MimeType/pack.xml" />
		<refpack file="ToolsIExport/pack.xml" />


		<!-- ========================================================== 
			OTHER OPTIONAL PAXLE BUNDLES
			See: Profile "mvn -Dothers"
		     ========================================================== -->
		<xinclude href="others.xml" parse="xml">
			<!-- 
				 Note:
				 We need to use an xinclude with a fallback here because a refpack
				 causes the whole build process to fail if the referenced pack
				 (and the included bundles) are not available.
			 -->
			<xfallback></xfallback>
		</xinclude>
	</packs>
</installation>
